{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cesar\\\\OneDrive\\\\Documentos\\\\GitHub\\\\muebleria-app\\\\frontend\\\\src\\\\monitorPages\\\\MonitorPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Navbar from '../components/Auth/Navbar';\nimport { Bar, Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, BarElement, LineElement, CategoryScale, LinearScale, PointElement } from 'chart.js';\nimport './MonitorPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(BarElement, LineElement, CategoryScale, LinearScale, PointElement);\n\n// Función para formato de tiempo en hh:mm:ss\nfunction formatTime(s) {\n  const hrs = Math.floor(s / 3600);\n  const min = Math.floor(s % 3600 / 60);\n  const sec = s % 60;\n  return `${hrs}h ${min}m ${sec}s`;\n}\nexport default function MonitorPage() {\n  _s();\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem('token'); // Obtén token almacenado\n    fetch('http://localhost:4000/api/monitor', {\n      headers: {\n        Authorization: `Bearer ${token}` // Envía el token en la cabecera\n      }\n    }).then(res => {\n      if (!res.ok) throw new Error(`Error ${res.status}`);\n      return res.json();\n    }).then(setData).catch(err => setError(err.message));\n  }, []);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"monitor-error\",\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 21\n  }, this);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"monitor-loading\",\n    children: \"Cargando m\\xE9tricas\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monitor-container\",\n      style: {\n        marginTop: '60px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MonitorPage, \"XDVXnHzsKW9JpOo48THjIq2+NOI=\");\n_c = MonitorPage;\nvar _c;\n$RefreshReg$(_c, \"MonitorPage\");","map":{"version":3,"names":["React","useEffect","useState","Navbar","Bar","Line","Chart","ChartJS","BarElement","LineElement","CategoryScale","LinearScale","PointElement","jsxDEV","_jsxDEV","Fragment","_Fragment","register","formatTime","s","hrs","Math","floor","min","sec","MonitorPage","_s","data","setData","error","setError","token","localStorage","getItem","fetch","headers","Authorization","then","res","ok","Error","status","json","catch","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/cesar/OneDrive/Documentos/GitHub/muebleria-app/frontend/src/monitorPages/MonitorPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Navbar from '../components/Auth/Navbar';\r\nimport { Bar, Line } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  BarElement,\r\n  LineElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement\r\n} from 'chart.js';\r\nimport './MonitorPage.css';\r\n\r\nChartJS.register(\r\n  BarElement,\r\n  LineElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement\r\n);\r\n\r\n// Función para formato de tiempo en hh:mm:ss\r\nfunction formatTime(s) {\r\n  const hrs = Math.floor(s / 3600);\r\n  const min = Math.floor((s % 3600) / 60);\r\n  const sec = s % 60;\r\n  return `${hrs}h ${min}m ${sec}s`;\r\n}\r\n\r\nexport default function MonitorPage() {\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token'); // Obtén token almacenado\r\n    fetch('http://localhost:4000/api/monitor', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`, // Envía el token en la cabecera\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error(`Error ${res.status}`);\r\n        return res.json();\r\n      })\r\n      .then(setData)\r\n      .catch(err => setError(err.message));\r\n  }, []);\r\n\r\n  if (error) return <p className=\"monitor-error\">Error: {error}</p>;\r\n  if (!data) return <p className=\"monitor-loading\">Cargando métricas…</p>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"monitor-container\" style={{ marginTop: '60px' }}>\r\n        {/* ... resto del componente ... */}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,2BAA2B;AAC9C,SAASC,GAAG,EAAEC,IAAI,QAAQ,iBAAiB;AAC3C,SACEC,KAAK,IAAIC,OAAO,EAChBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,WAAW,EACXC,YAAY,QACP,UAAU;AACjB,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3BT,OAAO,CAACU,QAAQ,CACdT,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,WAAW,EACXC,YACF,CAAC;;AAED;AACA,SAASM,UAAUA,CAACC,CAAC,EAAE;EACrB,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACH,CAAC,GAAG,IAAI,CAAC;EAChC,MAAMI,GAAG,GAAGF,IAAI,CAACC,KAAK,CAAEH,CAAC,GAAG,IAAI,GAAI,EAAE,CAAC;EACvC,MAAMK,GAAG,GAAGL,CAAC,GAAG,EAAE;EAClB,OAAO,GAAGC,GAAG,KAAKG,GAAG,KAAKC,GAAG,GAAG;AAClC;AAEA,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACpC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC2B,KAAK,EAAEC,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACd,MAAM8B,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7CC,KAAK,CAAC,mCAAmC,EAAE;MACzCC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUL,KAAK,EAAE,CAAE;MACpC;IACF,CAAC,CAAC,CACCM,IAAI,CAACC,GAAG,IAAI;MACX,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,SAASF,GAAG,CAACG,MAAM,EAAE,CAAC;MACnD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CACDL,IAAI,CAACT,OAAO,CAAC,CACbe,KAAK,CAACC,GAAG,IAAId,QAAQ,CAACc,GAAG,CAACC,OAAO,CAAC,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIhB,KAAK,EAAE,oBAAOf,OAAA;IAAGgC,SAAS,EAAC,eAAe;IAAAC,QAAA,GAAC,SAAO,EAAClB,KAAK;EAAA;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EACjE,IAAI,CAACxB,IAAI,EAAE,oBAAOb,OAAA;IAAGgC,SAAS,EAAC,iBAAiB;IAAAC,QAAA,EAAC;EAAkB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEvE,oBACErC,OAAA,CAAAE,SAAA;IAAA+B,QAAA,gBACEjC,OAAA,CAACX,MAAM;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVrC,OAAA;MAAKgC,SAAS,EAAC,mBAAmB;MAACM,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAO;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAE3D,CAAC;EAAA,eACN,CAAC;AAEP;AAACzB,EAAA,CA9BuBD,WAAW;AAAA6B,EAAA,GAAX7B,WAAW;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}