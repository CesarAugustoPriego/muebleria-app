{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\herna\\\\OneDrive\\\\Documentos\\\\GitHub\\\\muebleria-app\\\\frontend\\\\src\\\\contexts\\\\CartContext.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/contexts/CartContext.jsx\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport { AuthContext } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const {\n    token,\n    user\n  } = useContext(AuthContext);\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    if (token && user) {\n      fetch('/api/carrito', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(data => setItems(data.detalles || [])).catch(() => setItems([]));\n    } else {\n      setItems([]);\n    }\n  }, [token, user]);\n  function clearCart() {\n    setItems([]);\n  }\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      items,\n      setItems,\n      clearCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(CartProvider, \"FulbrD2OAOiUwHnpc8XBoGWS1Ks=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","AuthContext","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","token","user","items","setItems","fetch","headers","Authorization","then","res","json","data","detalles","catch","clearCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/herna/OneDrive/Documentos/GitHub/muebleria-app/frontend/src/contexts/CartContext.jsx"],"sourcesContent":["// frontend/src/contexts/CartContext.jsx\r\nimport React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from './AuthContext';\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport function CartProvider({ children }) {\r\n  const { token, user } = useContext(AuthContext);\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (token && user) {\r\n      fetch('/api/carrito', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => setItems(data.detalles || []))\r\n        .catch(() => setItems([]));\r\n    } else {\r\n      setItems([]);\r\n    }\r\n  }, [token, user]);\r\n\r\n  function clearCart() {\r\n    setItems([]);\r\n  }\r\n\r\n  return (\r\n    <CartContext.Provider value={{ items, setItems, clearCart }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC7E,SAASC,WAAW,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,OAAO,MAAMC,WAAW,gBAAGP,aAAa,CAAC,CAAC;AAE1C,OAAO,SAASQ,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACzC,MAAM;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGT,UAAU,CAACC,WAAW,CAAC;EAC/C,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,IAAIS,KAAK,IAAIC,IAAI,EAAE;MACjBG,KAAK,CAAC,cAAc,EAAE;QACpBC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAC9C,CAAC,CAAC,CACCO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIP,QAAQ,CAACO,IAAI,CAACC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAC3CC,KAAK,CAAC,MAAMT,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC,MAAM;MACLA,QAAQ,CAAC,EAAE,CAAC;IACd;EACF,CAAC,EAAE,CAACH,KAAK,EAAEC,IAAI,CAAC,CAAC;EAEjB,SAASY,SAASA,CAAA,EAAG;IACnBV,QAAQ,CAAC,EAAE,CAAC;EACd;EAEA,oBACER,OAAA,CAACC,WAAW,CAACkB,QAAQ;IAACC,KAAK,EAAE;MAAEb,KAAK;MAAEC,QAAQ;MAAEU;IAAU,CAAE;IAAAf,QAAA,EACzDA;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B;AAACpB,EAAA,CA1BeF,YAAY;AAAAuB,EAAA,GAAZvB,YAAY;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}