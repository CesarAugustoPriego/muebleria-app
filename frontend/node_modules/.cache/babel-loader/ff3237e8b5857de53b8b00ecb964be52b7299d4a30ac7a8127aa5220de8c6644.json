{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cesar\\\\OneDrive\\\\Documentos\\\\GitHub\\\\muebleria-app\\\\frontend\\\\src\\\\contexts\\\\PurchaseContext.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/contexts/PurchaseContext.jsx\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport { AuthContext } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PurchaseContext = /*#__PURE__*/createContext();\nexport function PurchaseProvider({\n  children\n}) {\n  _s();\n  const {\n    token,\n    user\n  } = useContext(AuthContext);\n  const [ventas, setVentas] = useState([]);\n  useEffect(() => {\n    if (token && user) {\n      fetch('/api/ventas', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(data => setVentas(data)).catch(() => setVentas([]));\n    } else {\n      setVentas([]);\n    }\n  }, [token, user]);\n  function clearPurchases() {\n    setVentas([]);\n  }\n  return /*#__PURE__*/_jsxDEV(PurchaseContext.Provider, {\n    value: {\n      ventas,\n      clearPurchases\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(PurchaseProvider, \"blyT05wXlKRa4hdDApoDd8uSVEc=\");\n_c = PurchaseProvider;\nvar _c;\n$RefreshReg$(_c, \"PurchaseProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","AuthContext","jsxDEV","_jsxDEV","PurchaseContext","PurchaseProvider","children","_s","token","user","ventas","setVentas","fetch","headers","Authorization","then","res","json","data","catch","clearPurchases","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/cesar/OneDrive/Documentos/GitHub/muebleria-app/frontend/src/contexts/PurchaseContext.jsx"],"sourcesContent":["// frontend/src/contexts/PurchaseContext.jsx\r\nimport React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from './AuthContext';\r\n\r\nexport const PurchaseContext = createContext();\r\n\r\nexport function PurchaseProvider({ children }) {\r\n  const { token, user } = useContext(AuthContext);\r\n  const [ventas, setVentas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (token && user) {\r\n      fetch('/api/ventas', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => setVentas(data))\r\n        .catch(() => setVentas([]));\r\n    } else {\r\n      setVentas([]);\r\n    }\r\n  }, [token, user]);\r\n\r\n  function clearPurchases() {\r\n    setVentas([]);\r\n  }\r\n\r\n  return (\r\n    <PurchaseContext.Provider value={{ ventas, clearPurchases }}>\r\n      {children}\r\n    </PurchaseContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC7E,SAASC,WAAW,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,OAAO,MAAMC,eAAe,gBAAGP,aAAa,CAAC,CAAC;AAE9C,OAAO,SAASQ,gBAAgBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC7C,MAAM;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGT,UAAU,CAACC,WAAW,CAAC;EAC/C,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,IAAIS,KAAK,IAAIC,IAAI,EAAE;MACjBG,KAAK,CAAC,aAAa,EAAE;QACnBC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAC9C,CAAC,CAAC,CACCO,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIP,SAAS,CAACO,IAAI,CAAC,CAAC,CAC7BC,KAAK,CAAC,MAAMR,SAAS,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLA,SAAS,CAAC,EAAE,CAAC;IACf;EACF,CAAC,EAAE,CAACH,KAAK,EAAEC,IAAI,CAAC,CAAC;EAEjB,SAASW,cAAcA,CAAA,EAAG;IACxBT,SAAS,CAAC,EAAE,CAAC;EACf;EAEA,oBACER,OAAA,CAACC,eAAe,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEZ,MAAM;MAAEU;IAAe,CAAE;IAAAd,QAAA,EACzDA;EAAQ;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE/B;AAACnB,EAAA,CA1BeF,gBAAgB;AAAAsB,EAAA,GAAhBtB,gBAAgB;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}